<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DERET ANGKA BAGIAN 2 EDUCATION PRIORITY</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f8f9fa;
            min-height: 100vh;
        }
        
        .login-container {
            max-width: 500px;
            margin: 100px auto;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            background-color: white;
        }
        
        .quiz-container {
            display: none;
            max-width: 900px;
            margin: 20px auto;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            background-color: white;
        }
        
        .result-container {
            display: none;
            max-width: 600px;
            margin: 100px auto;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            background-color: white;
            text-align: center;
        }
        
        .quiz-header {
            background-color: #0d6efd;
            color: white;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .timer {
            font-size: 24px;
            font-weight: bold;
            color: #dc3545;
            text-align: center;
            margin: 10px 0;
            padding: 10px;
            border-radius: 5px;
            background-color: #f8f9fa;
        }
        
        .question-card {
            background-color: #e7f1ff;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            border-left: 5px solid #0d6efd;
        }
        
        .question-number {
            font-weight: bold;
            color: #0d6efd;
            margin-bottom: 10px;
        }
        
        .options {
            margin-top: 15px;
        }
        
        .option {
            margin-bottom: 10px;
            padding: 10px;
            border-radius: 5px;
            background-color: white;
            border: 1px solid #dee2e6;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .option:hover {
            background-color: #f8f9fa;
            border-color: #0d6efd;
        }
        
        .option input[type="radio"] {
            margin-right: 10px;
        }
        
        .nav-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }
        
        .btn-primary {
            background-color: #0d6efd;
            border-color: #0d6efd;
        }
        
        .btn-primary:hover {
            background-color: #0b5ed7;
            border-color: #0a58ca;
        }
        
        .progress {
            height: 10px;
            margin-bottom: 20px;
        }
        
        .pass {
            color: #198754;
        }
        
        .fail {
            color: #dc3545;
        }
        
        .user-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            padding: 10px;
            background-color: #f8f9fa;
            border-radius: 5px;
        }
        
        .question-navigation {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
            margin-top: 15px;
            justify-content: center;
        }
        
        .nav-dot {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background-color: #dee2e6;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 12px;
            font-weight: bold;
        }
        
        .nav-dot.active {
            background-color: #0d6efd;
            color: white;
        }
        
        .nav-dot.answered {
            background-color: #198754;
            color: white;
        }
    </style>
</head>
<body>
    <!-- Login Page -->
    <div class="login-container" id="loginPage">
        <h2 class="text-center mb-4">DERET ANGKA BAGIAN 2 EDUCATION PRIORITY</h2>
        <div class="mb-3">
            <label for="fullName" class="form-label">Nama Lengkap</label>
            <input type="text" class="form-control" id="fullName" placeholder="Masukkan nama lengkap" required>
        </div>
        <div class="mb-3">
            <label for="token" class="form-label">Token Ujian</label>
            <input type="password" class="form-control" id="token" placeholder="Masukkan token ujian" required>
        </div>
        <div class="d-grid">
            <button class="btn btn-primary" onclick="startQuiz()">Mulai Kuis</button>
        </div>
        <div class="alert alert-danger mt-3" id="loginError" style="display: none;"></div>
    </div>

    <!-- Quiz Page -->
    <div class="quiz-container" id="quizPage">
        <div class="quiz-header">
            <h2>DERET ANGKA BAGIAN 2 EDUCATION PRIORITY</h2>
        </div>
        
        <div class="user-info">
            <div><strong>Nama:</strong> <span id="userName"></span></div>
            <div><strong>Sisa Waktu:</strong> <span id="timer">15:00</span></div>
        </div>
        
        <div class="progress">
            <div class="progress-bar" role="progressbar" style="width: 0%;" id="progressBar"></div>
        </div>
        
        <div id="questionContainer">
            <!-- Questions will be dynamically inserted here -->
        </div>
        
        <div class="question-navigation" id="questionNavigation">
            <!-- Navigation dots will be dynamically inserted here -->
        </div>
        
        <div class="nav-buttons">
            <button class="btn btn-secondary" id="prevBtn" onclick="previousQuestion()" disabled>
                <i class="fas fa-arrow-left"></i> Sebelumnya
            </button>
            <button class="btn btn-primary" id="nextBtn" onclick="nextQuestion()">
                Selanjutnya <i class="fas fa-arrow-right"></i>
            </button>
            <button class="btn btn-success" id="finishBtn" onclick="finishQuiz()" style="display: none;">
                Selesai <i class="fas fa-check"></i>
            </button>
        </div>
    </div>

    <!-- Result Page -->
    <div class="result-container" id="resultPage">
        <h2 class="mb-4">Hasil Kuis</h2>
        <div class="mb-3">
            <p><strong>Nama:</strong> <span id="resultName"></span></p>
            <p><strong>Jumlah Benar:</strong> <span id="correctAnswers"></span></p>
            <p><strong>Jumlah Salah:</strong> <span id="wrongAnswers"></span></p>
            <p><strong>Nilai:</strong> <span id="score"></span>%</p>
        </div>
        <div id="resultMessage" class="alert mt-4">
            <!-- Result message will be dynamically inserted here -->
        </div>
        <button class="btn btn-primary mt-3" onclick="location.reload()">
            <i class="fas fa-redo"></i> Coba Lagi
        </button>
    </div>

    <script>
        // Questions data
        const questions = [
            {
                question: "2, 5, 11, 20, 32, 47, ...",
                options: ["64", "65", "66", "67"],
                correctAnswer: 1
            },
            {
                question: "3, 7, 13, 21, 31, 43, ...",
                options: ["55", "56", "57", "58"],
                correctAnswer: 2
            },
            {
                question: "1, 4, 9, 16, 25, 36, ...",
                options: ["47", "48", "49", "50"],
                correctAnswer: 2
            },
            {
                question: "2, 6, 12, 20, 30, 42, ...",
                options: ["54", "55", "56", "57"],
                correctAnswer: 2
            },
            {
                question: "1, 1, 2, 3, 5, 8, 13, ...",
                options: ["19", "20", "21", "22"],
                correctAnswer: 2
            },
            {
                question: "4, 9, 16, 25, 36, 49, ...",
                options: ["60", "61", "62", "64"],
                correctAnswer: 3
            },
            {
                question: "3, 8, 15, 24, 35, 48, ...",
                options: ["61", "62", "63", "64"],
                correctAnswer: 2
            },
            {
                question: "2, 7, 16, 31, 54, 85, ...",
                options: ["124", "125", "126", "127"],
                correctAnswer: 2
            },
            {
                question: "1, 3, 6, 10, 15, 21, ...",
                options: ["26", "27", "28", "29"],
                correctAnswer: 2
            },
            {
                question: "5, 10, 17, 26, 37, 50, ...",
                options: ["63", "64", "65", "66"],
                correctAnswer: 2
            },
            {
                question: "2, 5, 10, 17, 26, 37, ...",
                options: ["48", "49", "50", "51"],
                correctAnswer: 2
            },
            {
                question: "1, 8, 27, 64, 125, 216, ...",
                options: ["342", "343", "344", "345"],
                correctAnswer: 1
            },
            {
                question: "4, 7, 12, 19, 28, 39, ...",
                options: ["50", "51", "52", "53"],
                correctAnswer: 2
            },
            {
                question: "3, 10, 21, 36, 55, 78, ...",
                options: ["103", "104", "105", "106"],
                correctAnswer: 2
            },
            {
                question: "2, 9, 28, 65, 126, 217, ...",
                options: ["342", "343", "344", "345"],
                correctAnswer: 2
            },
            {
                question: "1, 2, 6, 24, 120, 720, ...",
                options: ["4320", "5040", "5050", "5100"],
                correctAnswer: 1
            },
            {
                question: "3, 6, 11, 18, 27, 38, ...",
                options: ["49", "50", "51", "52"],
                correctAnswer: 2
            },
            {
                question: "5, 12, 25, 44, 69, 100, ...",
                options: ["135", "136", "137", "138"],
                correctAnswer: 2
            },
            {
                question: "2, 8, 18, 32, 50, 72, ...",
                options: ["96", "98", "100", "102"],
                correctAnswer: 1
            },
            {
                question: "1, 5, 14, 30, 55, 91, ...",
                options: ["138", "139", "140", "141"],
                correctAnswer: 2
            },
            {
                question: "4, 11, 22, 37, 56, 79, ...",
                options: ["104", "105", "106", "107"],
                correctAnswer: 2
            },
            {
                question: "3, 12, 27, 48, 75, 108, ...",
                options: ["145", "146", "147", "148"],
                correctAnswer: 2
            },
            {
                question: "2, 10, 24, 44, 70, 102, ...",
                options: ["138", "139", "140", "141"],
                correctAnswer: 2
            },
            {
                question: "1, 6, 15, 28, 45, 66, ...",
                options: ["89", "90", "91", "92"],
                correctAnswer: 2
            },
            {
                question: "5, 15, 30, 50, 75, 105, ...",
                options: ["138", "139", "140", "141"],
                correctAnswer: 2
            },
            {
                question: "2, 12, 30, 56, 90, 132, ...",
                options: ["180", "182", "184", "186"],
                correctAnswer: 1
            },
            {
                question: "3, 14, 33, 60, 95, 138, ...",
                options: ["187", "188", "189", "190"],
                correctAnswer: 2
            },
            {
                question: "4, 16, 36, 64, 100, 144, ...",
                options: ["192", "196", "200", "204"],
                correctAnswer: 1
            },
            {
                question: "1, 7, 19, 37, 61, 91, ...",
                options: ["125", "126", "127", "128"],
                correctAnswer: 2
            },
            {
                question: "2, 14, 34, 62, 98, 142, ...",
                options: ["192", "194", "196", "198"],
                correctAnswer: 1
            },
            {
                question: "3, 18, 45, 84, 135, 198, ...",
                options: ["271", "272", "273", "274"],
                correctAnswer: 2
            }
        ];

        // Global variables
        let currentQuestion = 0;
        let userAnswers = [];
        let shuffledQuestions = [];
        let timer;
        let timeLeft = 15 * 60; // 15 minutes in seconds
        let userName = "";

        // Start quiz function
        function startQuiz() {
            const fullName = document.getElementById("fullName").value;
            const token = document.getElementById("token").value;
            
            if (!fullName || !token) {
                document.getElementById("loginError").textContent = "Nama dan token harus diisi!";
                document.getElementById("loginError").style.display = "block";
                return;
            }
            
            if (token !== "JK25R") {
                document.getElementById("loginError").textContent = "Token ujian tidak valid!";
                document.getElementById("loginError").style.display = "block";
                return;
            }
            
            userName = fullName;
            document.getElementById("userName").textContent = userName;
            
            // Shuffle questions
            shuffledQuestions = [...questions].sort(() => Math.random() - 0.5);
            
            // Initialize user answers
            userAnswers = new Array(shuffledQuestions.length).fill(-1);
            
            // Show quiz page
            document.getElementById("loginPage").style.display = "none";
            document.getElementById("quizPage").style.display = "block";
            
            // Start timer
            startTimer();
            
            // Load first question
            loadQuestion();
            
            // Create navigation dots
            createNavigationDots();
        }

        // Timer function
        function startTimer() {
            timer = setInterval(() => {
                timeLeft--;
                
                const minutes = Math.floor(timeLeft / 60);
                const seconds = timeLeft % 60;
                
                document.getElementById("timer").textContent = 
                    `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                
                if (timeLeft <= 0) {
                    clearInterval(timer);
                    finishQuiz();
                }
            }, 1000);
        }

        // Load question function
        function loadQuestion() {
            const question = shuffledQuestions[currentQuestion];
            const questionContainer = document.getElementById("questionContainer");
            
            questionContainer.innerHTML = `
                <div class="question-card">
                    <div class="question-number">Soal ${currentQuestion + 1} dari ${shuffledQuestions.length}</div>
                    <div class="question-text">${question.question}</div>
                    <div class="options">
                        ${question.options.map((option, index) => `
                            <div class="option" onclick="selectAnswer(${index})">
                                <input type="radio" name="answer" id="option${index}" value="${index}" 
                                    ${userAnswers[currentQuestion] === index ? 'checked' : ''}>
                                <label for="option${index}">${option}</label>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;
            
            // Update progress bar
            const progress = ((currentQuestion + 1) / shuffledQuestions.length) * 100;
            document.getElementById("progressBar").style.width = `${progress}%`;
            
            // Update navigation buttons
            document.getElementById("prevBtn").disabled = currentQuestion === 0;
            document.getElementById("nextBtn").style.display = currentQuestion === shuffledQuestions.length - 1 ? 'none' : 'block';
            document.getElementById("finishBtn").style.display = currentQuestion === shuffledQuestions.length - 1 ? 'block' : 'none';
            
            // Update navigation dots
            updateNavigationDots();
        }

        // Select answer function
        function selectAnswer(index) {
            userAnswers[currentQuestion] = index;
            document.getElementById(`option${index}`).checked = true;
            updateNavigationDots();
        }

        // Navigation functions
        function previousQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                loadQuestion();
            }
        }

        function nextQuestion() {
            if (currentQuestion < shuffledQuestions.length - 1) {
                currentQuestion++;
                loadQuestion();
            }
        }

        // Create navigation dots
        function createNavigationDots() {
            const navContainer = document.getElementById("questionNavigation");
            navContainer.innerHTML = "";
            
            for (let i = 0; i < shuffledQuestions.length; i++) {
                const dot = document.createElement("div");
                dot.className = "nav-dot";
                dot.textContent = i + 1;
                dot.onclick = () => navigateToQuestion(i);
                navContainer.appendChild(dot);
            }
        }

        // Update navigation dots
        function updateNavigationDots() {
            const dots = document.querySelectorAll(".nav-dot");
            dots.forEach((dot, index) => {
                dot.classList.remove("active", "answered");
                
                if (index === currentQuestion) {
                    dot.classList.add("active");
                } else if (userAnswers[index] !== -1) {
                    dot.classList.add("answered");
                }
            });
        }

        // Navigate to specific question
        function navigateToQuestion(index) {
            currentQuestion = index;
            loadQuestion();
        }

        // Finish quiz function
        function finishQuiz() {
            clearInterval(timer);
            
            // Calculate score
            let correctCount = 0;
            for (let i = 0; i < shuffledQuestions.length; i++) {
                if (userAnswers[i] === shuffledQuestions[i].correctAnswer) {
                    correctCount++;
                }
            }
            
            const wrongCount = shuffledQuestions.length - correctCount;
            const score = Math.round((correctCount / shuffledQuestions.length) * 100);
            
            // Show result page
            document.getElementById("quizPage").style.display = "none";
            document.getElementById("resultPage").style.display = "block";
            
            // Display result
            document.getElementById("resultName").textContent = userName;
            document.getElementById("correctAnswers").textContent = correctCount;
            document.getElementById("wrongAnswers").textContent = wrongCount;
            document.getElementById("score").textContent = score;
            
            // Display result message
            const resultMessage = document.getElementById("resultMessage");
            if (correctCount >= 25) {
                resultMessage.className = "alert alert-success";
                resultMessage.innerHTML = `
                    <h4><i class="fas fa-check-circle"></i> Selamat! Anda Lulus</h4>
                    <p>Anda telah menjawab benar ${correctCount} dari ${shuffledQuestions.length} soal.</p>
                `;
            } else {
                resultMessage.className = "alert alert-danger";
                resultMessage.innerHTML = `
                    <h4><i class="fas fa-times-circle"></i> Maaf, Anda Belum Lulus</h4>
                    <p>Anda perlu minimal 25 jawaban benar untuk lulus. Anda hanya menjawab benar ${correctCount} soal.</p>
                `;
            }
        }
    </script>
</body>
</html>