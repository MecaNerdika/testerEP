<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Kuis Verbal 180 Soal</title>
  <style>
    :root{
      --bg:#060000;       /* slate-900 */
      --card:#111827;     /* gray-900 */
      --muted:#334155;    /* slate-600 */
      --text:#ffffff;     /* gray-200 */
      --accent:#38bdf8;   /* sky-400 */
      --accent-2:#22c55e; /* green-500 */
      --danger:#ef4444;   /* red-500 */
      --warn:#f59e0b;     /* amber-500 */
      --shadow: 0 8px 24px rgba(0,0,0,.35);
      --radius: 16px;
    }
    *{box-sizing:border-box}
    body{
      margin:0; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
      background: radial-gradient(1200px 800px at 10% -10%, #1e293b, transparent),
                  radial-gradient(800px 600px at 120% 0%, #0b3b47, transparent),
                  var(--bg);
      color:var(--text);
      min-height:100svh; display:flex; align-items:center; justify-content:center; padding:24px;
    }
    .app{width:100%; max-width:980px}
    header{
      display:flex; align-items:center; justify-content:space-between; gap:12px; margin-bottom:16px;
    }
    .brand{font-weight:800; letter-spacing:.5px; font-size:clamp(18px,3.5vw,24px)}
    .timer{font-variant-numeric:tabular-nums; font-weight:700; padding:10px 14px; border-radius:999px; background:#0b1220; border:1px solid #1f2a44; box-shadow:var(--shadow)}
    .card{background:linear-gradient(180deg,#0b1220,#0a1020); border:1px solid #1f2a44; border-radius:var(--radius); box-shadow:var(--shadow)}
    .section{display:none}
    .active{display:block}
    .card-inner{padding:20px}
    .grid{display:grid; gap:16px}
    .grid-2{grid-template-columns: 1fr 1fr}
    .grid-responsive{grid-template-columns: 1fr;}
    @media (min-width:720px){ .grid-responsive{grid-template-columns: 1fr 320px} }

    input[type="text"], input[type="password"]{
      width:100%; padding:12px 14px; border-radius:12px; border:1px solid #26314d; background:#0b1220; color:var(--text);
      outline:none; box-shadow:inset 0 0 0 9999px rgba(255,255,255,0);
    }
    label{font-size:14px; color:#cbd5e1}
    .btn{cursor:pointer; padding:12px 16px; border-radius:14px; background:var(--accent); color:#001219; border:none; font-weight:700; box-shadow:var(--shadow); transition:.2s transform ease;}
    .btn:active{transform:translateY(1px)}
    .btn.secondary{background:#1f2937; color:#e2e8f0; border:1px solid #334155}
    .btn.warn{background:var(--warn); color:#0b1220}
    .btn.danger{background:var(--danger); color:#0b1220}
    .muted{color:#94a3b8}
    .pill{display:inline-flex; align-items:center; gap:8px; padding:6px 10px; border-radius:999px; background:#0b1220; border:1px solid #223156; font-size:12px; color:#cbd5e1}

    .question-area{display:flex; flex-direction:column; gap:14px}
    .q-title{font-weight:800; font-size:18px}
    .choices{display:grid; gap:10px}
    .choice{display:flex; gap:10px; align-items:flex-start; border:1px solid #1f2a44; background:#0b1220; padding:12px; border-radius:12px; cursor:pointer}
    .choice input{margin-top:4px}

    .nav{display:flex; gap:10px; flex-wrap:wrap; max-height:240px; overflow:auto; padding:10px}
    .nav button{width:44px; height:40px; border-radius:10px; border:1px solid #1f2a44; background:#0b1220; color:#cbd5e1; font-weight:700; cursor:pointer}
    .nav button.active{outline:2px solid var(--accent); color:#0ea5e9}
    .nav button.done{background:#07291f; border-color:#0b7a53; color:#34d399}

    .footer-actions{display:flex; align-items:center; justify-content:space-between; gap:10px; margin-top:10px}

    .legend{display:flex; gap:8px; flex-wrap:wrap}

    .results{display:grid; gap:12px}
    .score-box{display:grid; grid-template-columns:1fr 1fr; gap:10px}
    .score-card{background:#0b1220; border:1px solid #1f2a44; border-radius:14px; padding:14px}

    .info-row{display:flex; gap:10px; flex-wrap:wrap; align-items:center; justify-content:space-between}
  </style>
</head>
<body>
  <div class="app">
    <header>
      <div class="brand">Kuis Verbal 180 Soal</div>
      <div class="pill" id="infoUser">Belum login</div>
      <div class="timer" id="timer">21:00</div>
    </header>

    <!-- SECTION 1: FORM MINIMAL -->
    <section id="section-form" class="section active">
      <div class="card">
        <div class="card-inner grid">
          <div>
            <h2 style="margin:0 0 10px 0">Masuk Kuis</h2>
            <p class="muted" style="margin-top:0">Masukkan nama dan password untuk memulai. Tidak ada pengaturan tambahan.</p>
            <div class="grid">
              <div>
                <label for="nama">Nama</label>
                <input id="nama" type="text" placeholder="Nama peserta" />
              </div>
              <div>
                <label for="pass">Password</label>
                <input id="pass" type="password" placeholder="Password" />
              </div>
              <button class="btn" id="btnMulai">Mulai Kuis</button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- SECTION 2: QUIZ -->
    <section id="section-quiz" class="section">
      <div class="grid grid-responsive">
        <div class="card">
          <div class="card-inner">
            <div class="info-row">
              <div class="pill" id="infoKategori">Kategori: -</div>
              <div class="pill" id="infoSoal">Soal 0 / 180</div>
            </div>
            <div class="question-area" id="questionArea">
              <!-- Question inject here -->
            </div>
            <div class="footer-actions">
              <button class="btn secondary" id="prevBtn">Prev</button>
              <div class="legend">
                <span class="pill">• Biru = aktif</span>
                <span class="pill" style="background:#07291f; color:#34d399; border-color:#0b7a53">• Hijau = terjawab</span>
              </div>
              <button class="btn" id="nextBtn">Next</button>
            </div>
          </div>
        </div>
        <div class="card">
          <div class="card-inner">
            <h3 style="margin-top:0">Navigasi Soal</h3>
            <div class="nav" id="nav">
              <!-- Nav buttons injected here -->
            </div>
            <div class="grid" style="margin-top:8px">
              <button class="btn warn" id="btnSubmit">Kumpulkan Jawaban</button>
              <button class="btn danger" id="btnReset">Reset Jawaban</button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- SECTION 3: HASIL -->
    <section id="section-result" class="section">
      <div class="card">
        <div class="card-inner results">
          <h2 style="margin:0">Hasil Ujian</h2>
          <p class="muted" id="resultUser">Peserta: -</p>
          <div class="score-box">
            <div class="score-card">
              <div class="muted">Skor Sinonim</div>
              <div id="scoreSinonim" style="font-size:28px; font-weight:800">0 / 40</div>
            </div>
            <div class="score-card">
              <div class="muted">Skor Antonim</div>
              <div id="scoreAntonim" style="font-size:28px; font-weight:800">0 / 40</div>
            </div>
            <div class="score-card">
              <div class="muted">Skor Hiponim</div>
              <div id="scoreHiponim" style="font-size:28px; font-weight:800">0 / 40</div>
            </div>
            <div class="score-card" style="grid-column: span 2">
              <div class="muted">Total Skor</div>
              <div id="scoreTotal" style="font-size:30px; font-weight:900">0 / 180</div>
            </div>
          </div>
          <div>
            <button class="btn" id="btnUlang">Mulai Lagi</button>
          </div>
        </div>
      </div>
    </section>
  </div>

  <script>
    /** UTIL **/
    const el = (sel) => document.querySelector(sel);
    const els = (sel) => Array.from(document.querySelectorAll(sel));
    const shuffle = (arr) => arr.map(v=>[Math.random(),v]).sort((a,b)=>a[0]-b[0]).map(x=>x[1]);

    /** BANK SOAL (40/40/40) **/
    // Format: {type:'sinonim'|'antonim'|'hiponim', q:'', options:['','','',''], answer: index}

    const SINONIM = [
        {q:'Sinonim "laik" adalah …',o:['layak','tidak pantas','hina','rendah'],a:0},
        {q:'Sinonim "fantastis" adalah …',o:['luar biasa','biasa','biasa saja','umum'],a:0},
        {q:'Sinonim "artifisial" adalah …',o:['buatan','asli','alami','murni'],a:0},
        {q:'Sinonim "panorama" adalah …',o:['pemandangan','suara','bau','getaran'],a:0},
        {q:'Sinonim "anonim" adalah …',o:['tanpa nama','bernama','resmi','jelas'],a:0},
        {q:'Sinonim "pandir" adalah …',o:['bodoh','cerdas','pintar','pandai'],a:0},
        {q:'Sinonim "efektif" adalah …',o:['manjur','gagal','tidak berguna','lemah'],a:0},
        {q:'Sinonim "egaliter" adalah …',o:['sederajat','tinggi','rendah','menengah'],a:0},
        {q:'Sinonim "faksi" adalah …',o:['golongan','individu','sendiri','netral'],a:0},
        {q:'Sinonim "ambigu" adalah …',o:['mendua','jelas','tegas','pasti'],a:0},
        {q:'Sinonim "komplemen" adalah …',o:['pelengkap','kekurangan','kurang','cacat'],a:0},
        {q:'Sinonim "nomadik" adalah …',o:['tidak tetap',' menetap','diam','berhenti'],a:0},
        {q:'Sinonim "adagium" adalah …',o:['pepatah','cerita','kisah','dongeng'],a:0},
        {q:'Sinonim "benchmark" adalah …',o:['tolok ukur','acuan','standar','parameter'],a:0},
        {q:'Sinonim "mortalitas" adalah …',o:['kematian','kelahiran','hidup','lahir'],a:0},
        {q:'Sinonim "fusi" adalah …',o:['gabungan','pisahan','pemisahan','pecahan'],a:0},
        {q:'Sinonim "assessment" adalah …',o:['taksiran','kebijakan','putusan','aturan'],a:0},
        {q:'Sinonim "interseksi" adalah …',o:['persimpangan','jalan lurus','persawahan','jalan raya'],a:0},
        {q:'Sinonim "union" adalah …',o:['penyatuan','perpecahan','pemisahan','pecah'],a:0},
        {q:'Sinonim "oseanografi" adalah …',o:['ilmu laut','biologi','geologi','astronomi'],a:0},
        {q:'Sinonim "evaporasi" adalah …',o:['penguapan','pembekuan','kondensasi','pencairan'],a:0},
        {q:'Sinonim "klan" adalah …',o:['suku','bangsa','ras','kelompok besar'],a:0},
        {q:'Sinonim "konjungsi" adalah …',o:['penghubung','pemutus','pemisah','penghalang'],a:0},
        {q:'Sinonim "adiktif" adalah …',o:['membuat ketagihan','menyembuhkan','menenangkan','netral'],a:0},
        {q:'Sinonim "absorpsi" adalah …',o:['penyerapan','pengeluaran','pembuangan','pengalihan'],a:0},
        {q:'Sinonim "absurd" adalah …',o:['aneh','biasa','jelas','nyata'],a:0},
        {q:'Sinonim "adaptif" adalah …',o:['mudah menyesuaikan','kaku','keras','tetap'],a:0},
        {q:'Sinonim "afirmasi" adalah …',o:['penegasan','penolakan','keraguan','pertanyaan'],a:0},
        {q:'Sinonim "agung" adalah …',o:['mulia','hina','rendah','kecil'],a:0},
        {q:'Sinonim "ambisi" adalah …',o:['cita-cita','malas','pasrah','putus asa'],a:0},
        {q:'Sinonim "anugerah" adalah …',o:['karunia','hukuman','cobaan','siksaan'],a:0},
        {q:'Sinonim "argumentasi" adalah …',o:['alasan','diam','keraguan','bisikan'],a:0},
        {q:'Sinonim "aspirasi" adalah …',o:['harapan','keputusasaan','keraguan','musibah'],a:0},
        {q:'Sinonim "berdaulat" adalah …',o:['merdeka','terjajah','terikat','bergantung'],a:0},
        {q:'Sinonim "bernas" adalah …',o:['berisi','kosong','hampa','kering'],a:0},
        {q:'Sinonim "cakrawala" adalah …',o:['ufuk','daratan','gunung','sungai'],a:0},
        {q:'Sinonim "canggih" adalah …',o:['modern','kuno','usang','jadul'],a:0},
        {q:'Sinonim "deduksi" adalah …',o:['penarikan kesimpulan','pengumpulan data','hipotesis','andaian'],a:0},
        {q:'Sinonim "determinasi" adalah …',o:['keteguhan','keragu-raguan','ketidakpastian','kebimbangan'],a:0},
        {q:'Sinonim "diksi" adalah …',o:['pilihan kata','suara','intonasi','teks'],a:0},
        {q:'Sinonim "donasi" adalah …',o:['sumbangan','pinjaman','utang','tarikan'],a:0},
        {q:'Sinonim "elok" adalah …',o:['indah','buruk','jelek','cacat'],a:0},
        {q:'Sinonim "empati" adalah …',o:['ikut merasakan','acuh','masa bodoh','benci'],a:0},
        {q:'Sinonim "fiktif" adalah …',o:['khayalan','nyata','asli','realitas'],a:0},
        {q:'Sinonim "fragmen" adalah …',o:['potongan','keseluruhan','utuh','penuh'],a:0},
        {q:'Sinonim "gugur" adalah …',o:['jatuh','tegak','berdiri','bersemi'],a:0},
        {q:'Sinonim "harmoni" adalah …',o:['keselarasan','kekacauan','perpecahan','konflik'],a:0},
        {q:'Sinonim "identik" adalah …',o:['sama','berbeda','lain','asing'],a:0},
        {q:'Sinonim "jenaka" adalah …',o:['lucu','serius','tegang','muram'],a:0},
        {q:'Sinonim "kredibel" adalah …',o:['terpercaya','meragukan','palsu','diragukan'],a:0},
        {q:'Sinonim kata "absah" adalah …',o:['batal','sah','surut','palsu'],a:1},
        {q:'Sinonim "akurat" adalah …',o:['teliti','acak','rapuh','seadanya'],a:0},
        {q:'Sinonim "ambigu" adalah …',o:['jelas','rancu','pasti','nyata'],a:1},
        {q:'Sinonim "apatis" adalah …',o:['acuh tak acuh','bersemangat','aktif','gelisah'],a:0},
        {q:'Sinonim "arogan" adalah …',o:['rendah hati','sombong','biasa','hemat'],a:1},
        {q:'Sinonim "autentik" adalah …',o:['asli','tiruan','biasa','sementara'],a:0},
        {q:'Sinonim "bengis" adalah …',o:['kejam','ramah','lembut','ceria'],a:0},
        {q:'Sinonim "benderang" adalah …',o:['gelap','suram','terang','muram'],a:2},
        {q:'Sinonim "canggih" adalah …',o:['kuno','sederhana','mutakhir','biasa'],a:2},
        {q:'Sinonim "cedera" adalah …',o:['luka','sehat','pulih','kuat'],a:0},
        {q:'Sinonim "delegasi" adalah …',o:['utusan','musuh','penjaga','pelayan'],a:0},
        {q:'Sinonim "dominasi" adalah …',o:['kekuasaan','keterbatasan','kebetulan','ketidakpastian'],a:0},
        {q:'Sinonim "durja" adalah …',o:['murka','senang','tenang','ria'],a:0},
        {q:'Sinonim "efisien" adalah …',o:['boros','hemat','lambat','rugi'],a:1},
        {q:'Sinonim "egaliter" adalah …',o:['setara','bertingkat','kasta','hirarkis'],a:0},
        {q:'Sinonim "elok" adalah …',o:['cantik','jelek','biasa','kelam'],a:0},
        {q:'Sinonim "fatal" adalah …',o:['sepele','parah','ringan','remeh'],a:1},
        {q:'Sinonim "gamblang" adalah …',o:['kabur','jelas','samar','redup'],a:1},
        {q:'Sinonim "gigih" adalah …',o:['pantang menyerah','malas','lesu','lalai'],a:0},
        {q:'Sinonim "harmonis" adalah …',o:['selaras','kontras','kaku','tajam'],a:0},
        {q:'Sinonim "hulu" adalah …',o:['muara','pangkal','ujung','akhir'],a:1},
        {q:'Sinonim "imanen" adalah …',o:['melekat','terpisah','terlepas','teralienasi'],a:0},
        {q:'Sinonim "inklusif" adalah …',o:['terbuka','eksklusif','sempit','kaku'],a:0},
        {q:'Sinonim "intuitif" adalah …',o:['naluriah','rasional murni','mekanis','acak'],a:0},
        {q:'Sinonim "konkret" adalah …',o:['abstrak','nyata','maya','semu'],a:1},
        {q:'Sinonim "kredibel" adalah …',o:['dapat dipercaya','meragukan','palsu','sumir'],a:0},
        {q:'Sinonim "lazim" adalah …',o:['umum','langka','baru','aneh'],a:0},
        {q:'Sinonim "legawa" adalah …',o:['ikhlas','marah','benci','sakit'],a:0},
        {q:'Sinonim "limbung" adalah …',o:['goyah','kokoh','tegar','mantap'],a:0},
        {q:'Sinonim "mahir" adalah …',o:['ahli','pemula','amatir','biasa'],a:0},
        {q:'Sinonim "makmur" adalah …',o:['sejahtera','miskin','melarat','sulit'],a:0},
        {q:'Sinonim "mutakhir" adalah …',o:['usang','terkini','kadaluwarsa','jadul'],a:1},
        {q:'Sinonim "nevralgis" (figuratif) adalah …',o:['krusial','remeh','pinggiran','acuh'],a:0},
        {q:'Sinonim "otonom" adalah …',o:['mandiri','bergantung','serba-tergantung','nonaktif'],a:0},
        {q:'Sinonim "paripurna" adalah …',o:['sempurna','cacat','rusak','gagal'],a:0},
        {q:'Sinonim "resiprokal" adalah …',o:['timbal balik','searah','tunggal','acak'],a:0},
        {q:'Sinonim "riuh" adalah …',o:['gaduh','hening','sunyi','sepi'],a:0},
        {q:'Sinonim "sanggup" adalah …',o:['mampu','tidak bisa','enggan','lelah'],a:0},
        {q:'Sinonim "sekilas" adalah …',o:['sepintas','mendalam','lama','teliti'],a:0},
        {q:'Sinonim "teladan" adalah …',o:['panutan','cacian','celaan','hukuman'],a:0},
    ].map(x=>({type:'sinonim', q:x.q, options:x.o, answer:x.a}));

    const ANTONIM = [
        {q:'Antonim "laik" adalah …',o:['layak','tidak pantas','sesuai','benar'],a:1},
        {q:'Antonim "fantastis" adalah …',o:['luar biasa','hebat','biasa','agung'],a:2},
        {q:'Antonim "artifisial" adalah …',o:['buatan','palsu','alami','tiruan'],a:2},
        {q:'Antonim "anonim" adalah …',o:['tanpa nama','bernama','tidak dikenal','rahasia'],a:1},
        {q:'Antonim "pandir" adalah …',o:['bodoh','cerdas','pintar','pandai'],a:1},
        {q:'Antonim "efektif" adalah …',o:['manjur','berhasil','tidak manjur','ampuh'],a:2},
        {q:'Antonim "egaliter" adalah …',o:['sederajat','berbeda derajat','setara','adil'],a:1},
        {q:'Antonim "ambiguitas" adalah …',o:['mendua','jelas','kabur','tidak pasti'],a:1},
        {q:'Antonim "fusi" adalah …',o:['gabungan','pecah','pemisahan','penggabungan'],a:2},
        {q:'Antonim "nomadik" adalah …',o:['tidak tetap','berdiam','mengembara','berpindah'],a:1},
        {q:'Antonim "mortalitas" adalah …',o:['kematian','lahir','mati','gugur'],a:1},
        {q:'Antonim "absurd" adalah …',o:['mustahil','masuk akal','aneh','aneh sekali'],a:1},
        {q:'Antonim "rigid" adalah …',o:['kaku','lentur','keras','tetap'],a:1},
        {q:'Antonim "dinamis" adalah …',o:['bergerak','aktif','statis','lincah'],a:2},
        {q:'Antonim "prematur" adalah …',o:['awal','terlambat','dini','lebih cepat'],a:1},
        {q:'Antonim "skeptis" adalah …',o:['ragu-ragu','percaya','bimbang','samar'],a:1},
        {q:'Antonim "moderat" adalah …',o:['sedang','ekstrem','normal','lazim'],a:1},
        {q:'Antonim "kasual" adalah …',o:['sederhana','non resmi','formal','biasa'],a:2},
        {q:'Antonim "parsimoni" adalah …',o:['hemat','boros','cermat','irit'],a:1},
        {q:'Antonim "progresi" adalah …',o:['kemajuan','mundur','maju','perubahan'],a:1},
        {q:'Antonim "stagnasi" adalah …',o:['kemacetan','kemajuan','terhenti','macet'],a:1},
        {q:'Antonim "up to date" adalah …',o:['baru','modern','out of date','kekinian'],a:2},
        {q:'Antonim "insomnia" adalah …',o:['sulit tidur','mudah tidur','melek','terjaga'],a:1},
        {q:'Antonim "naif" adalah …',o:['lugu','cerdik','jujur','bodoh'],a:1},
        {q:'Antonim "sporadis" adalah …',o:['sesekali','jarang','teratur','tidak menentu'],a:2},       
        {q:'Antonim "absah" adalah …',o:['batal','sah','resmi','valid'],a:0},
        {q:'Antonim "adil" adalah …',o:['sewenang-wenang','bijak','lurus','arif'],a:0},
        {q:'Antonim "akurat" adalah …',o:['tepat','salah','benar','cermat'],a:1},
        {q:'Antonim "alami" adalah …',o:['buatan','murni','asli','organik'],a:0},
        {q:'Antonim "aktif" adalah …',o:['pasif','sibuk','rajin','giat'],a:0},
        {q:'Antonim "asli" adalah …',o:['palsu','murni','nyata','orisinal'],a:0},
        {q:'Antonim "besar" adalah …',o:['kecil','tinggi','luas','gemuk'],a:0},
        {q:'Antonim "berani" adalah …',o:['penakut','pemberani','gagah','nekat'],a:0},
        {q:'Antonim "canggih" adalah …',o:['kuno','modern','maju','terbaru'],a:0},
        {q:'Antonim "cepat" adalah …',o:['lambat','segera','gesit','kilat'],a:0},
        {q:'Antonim "damai" adalah …',o:['perang','tentram','rukun','aman'],a:0},
        {q:'Antonim "dini" adalah …',o:['akhir','pagi','awal','segera'],a:0},
        {q:'Antonim "eksklusif" adalah …',o:['inklusif','khusus','terbatas','spesial'],a:0},
        {q:'Antonim "fleksibel" adalah …',o:['kaku','luwes','lentur','elastis'],a:0},
        {q:'Antonim "fokus" adalah …',o:['tersebar','terarah','terpusat','spesifik'],a:0},
        {q:'Antonim "gratis" adalah …',o:['berbayar','cuma-cuma','bebas','murah'],a:0},
        {q:'Antonim "hemat" adalah …',o:['boros','cermat','irit','efisien'],a:0},
        {q:'Antonim "independen" adalah …',o:['bergantung','mandiri','otonom','merdeka'],a:0},
        {q:'Antonim "intim" adalah …',o:['jauh','dekat','erat','akrab'],a:0},
        {q:'Antonim "jujur" adalah …',o:['bohong','adil','lurus','benar'],a:0},
        {q:'Antonim "kaya" adalah …',o:['miskin','berlimpah','cukup','sejahtera'],a:0},
        {q:'Antonim "kompleks" adalah …',o:['sederhana','rumit','sulit','jelimet'],a:0},
        {q:'Antonim "kuat" adalah …',o:['lemah','perkasa','teguh','kokoh'],a:0},
        {q:'Antonim "longgar" adalah …',o:['ketat','lebar','luas','bebas'],a:0},
        {q:'Antonim "mudah" adalah …',o:['sulit','gampang','ringan','lancar'],a:0},
        {q:'Antonim "abadi" adalah …',o:['kekal','sementara','tetap','langgeng'],a:1},
        {q:'Antonim "aktif" adalah …',o:['giat','sibuk','pasif','lincah'],a:2},
        {q:'Antonim "aman" adalah …',o:['berbahaya','terlindung','tertutup','amanah'],a:0},
        {q:'Antonim "aneka" adalah …',o:['beragam','majemuk','seragam','berwarna'],a:2},
        {q:'Antonim "arif" adalah …',o:['bijak','cerdik','bodoh','pandai'],a:2},
        {q:'Antonim "bangkit" adalah …',o:['berdiri','terjaga','jatuh','naik'],a:2},
        {q:'Antonim "bongkar" adalah …',o:['urai','pasang','urai ulang','cabut'],a:1},
        {q:'Antonim "danau" (pilih yang paling berlawanan) adalah …',o:['sungai','kolam','lautan','rawa'],a:2},
        {q:'Antonim "dermawan" adalah …',o:['kikir','murah hati','royal','pemurah'],a:0},
        {q:'Antonim "ekspansi" adalah …',o:['penyusutan','perluasan','peningkatan','pembukaan'],a:0},
        {q:'Antonim "eksplisit" adalah …',o:['jelas','terang','implisit','tegas'],a:2},
        {q:'Antonim "elastis" adalah …',o:['lentur','kaku','luwes','lembut'],a:1},
        {q:'Antonim "fasih" adalah …',o:['lancar','gagap','petah','mahir'],a:1},
        {q:'Antonim "gagal" adalah …',o:['sukses','runtuh','batal','luruh'],a:0},
        {q:'Antonim "halus" adalah …',o:['lembut','kasar','tipis','rapi'],a:1},
        {q:'Antonim "hemat" adalah …',o:['cermat','boros','irit','efisien'],a:1},
        {q:'Antonim "hipotesis" adalah …',o:['dugaan','teori mapan','praduga','andaian'],a:1},
        {q:'Antonim "impor" adalah …',o:['ekspor','antre','retur','barter'],a:0},
        {q:'Antonim "inklusif" adalah …',o:['terbuka','eksklusif','umum','global'],a:1},
        {q:'Antonim "intens" adalah …',o:['renggang','berat','padat','serius'],a:0},
        {q:'Antonim "jenuh" adalah …',o:['lelah','segar','penuh','padat'],a:1},
        {q:'Antonim "ketat" adalah …',o:['longgar','keras','erat','rapat'],a:0},
        {q:'Antonim "kudus" adalah …',o:['suci','najis','bersih','harum'],a:1},
        {q:'Antonim "lembap" adalah …',o:['basah','kering','becek','licin'],a:1},
        {q:'Antonim "maju" adalah …',o:['mundur','melaju','mahir','bergerak'],a:0},
        {q:'Antonim "malas" adalah …',o:['aktif','rajin','giat','cekatan'],a:1},
        {q:'Antonim "makmur" adalah …',o:['sejahtera','miskin','berlimpah','cukup'],a:1},
        {q:'Antonim "manis" (rasa) adalah …',o:['pahit','gurih','asin','asam'],a:0},
        {q:'Antonim "optimis" adalah …',o:['pasti','ragu','pesimis','yakin'],a:2},
        {q:'Antonim "pendek" adalah …',o:['kurang','tinggi','sempit','kecil'],a:1},
        {q:'Antonim "permanen" adalah …',o:['sementara','tetap','kekal','ajek'],a:0},
        {q:'Antonim "ramah" adalah …',o:['hangat','akrab','jutek','ceria'],a:2},
        {q:'Antonim "rapi" adalah …',o:['kusut','teratur','bersih','bersinar'],a:0},
        {q:'Antonim "rigid" adalah …',o:['kaku','lentur','keras','teguh'],a:1},
        {q:'Antonim "sederhana" adalah …',o:['wah','megah','mewah','glamor'],a:2},
        {q:'Antonim "tajam" adalah …',o:['tumpul','runcing','tajuk','pucuk'],a:0},
        {q:'Antonim "tebal" adalah …',o:['padat','tipis','rapat','pekat'],a:1},
        {q:'Antonim "terang" adalah …',o:['jelas','terbuka','gelap','gamblang'],a:2},
        {q:'Antonim "unggul" adalah …',o:['utama','biasa','adil','setara'],a:1},
        {q:'Antonim "valid" adalah …',o:['absah','batal','resmi','tepat'],a:1},
    ].map(x=>({type:'antonim', q:x.q, options:x.o, answer:x.a}));


    // Validasi jumlah
    if(SINONIM.length!==90||ANTONIM.length!==90){
      console.warn('Jumlah soal tidak 90/90:', SINONIM.length, ANTONIM.length);
    }

    /* Gabung & acak
    function shuffleOptions(q){  
        let opts = q.o.map((opt, i) => ({opt, i}));
        opts = shuffle(opts); // pake fungsi shuffle yang sudah kamu punya
        let newAnswer = opts.findIndex(o => o.i === q.a);
        return {
            ...q,
            o: opts.map(o => o.opt),
            a: newAnswer
  };
  
}
*/
   // let QUESTIONS = [...SINONIM, ...ANTONIM].map((q,i)=>({id:i+1, ...shuffleOptions(q)}));
    let QUESTIONS = [...SINONIM, ...ANTONIM].map((q,i)=>({id:i+1, ...q }));
    // State
    let state = {
      user:null,
      timeLeft: 45*60, // 45 menit
      currentIndex: 0,
      answers: Array(180).fill(null), // simpan index jawaban (0..3) atau null
    };

    /** RENDERING **/
    function formatTime(s){
      const m = Math.floor(s/60).toString().padStart(2,'0');
      const r = (s%60).toString().padStart(2,'0');
      return `${m}:${r}`;
    }

    function renderTimer(){
      el('#timer').textContent = formatTime(state.timeLeft);
      if(state.timeLeft <= 60){ el('#timer').style.background = '#331a1a'; el('#timer').style.borderColor = '#7f1d1d'; }
      if(state.timeLeft <= 0){
        submitQuiz();
      }
    }

    let tick = null;
    function startTimer(){
      if(tick) clearInterval(tick);
      tick = setInterval(()=>{ state.timeLeft--; renderTimer(); if(state.timeLeft<=0) clearInterval(tick); }, 1000);
    }

    function mountNav(){
      const nav = el('#nav');
      nav.innerHTML = '';
      QUESTIONS.forEach((q,idx)=>{
        const b = document.createElement('button');
        b.textContent = idx+1;
        b.addEventListener('click', ()=>{ goTo(idx); });
        nav.appendChild(b);
      });
      updateNavActive();
    }

    function updateNavActive(){
      const buttons = els('#nav button');
      buttons.forEach((b,idx)=>{
        b.classList.toggle('active', idx===state.currentIndex);
        b.classList.toggle('done', state.answers[idx]!==null);
      });
      el('#infoSoal').textContent = `Soal ${state.currentIndex+1} / ${QUESTIONS.length}`;
      el('#infoKategori').textContent = `Kategori: ${QUESTIONS[state.currentIndex].type.toUpperCase()}`;
    }

    function renderQuestion(){
      const q = QUESTIONS[state.currentIndex];
      const container = el('#questionArea');
      container.innerHTML = '';
      const title = document.createElement('div');
      title.className = 'q-title';
      title.textContent = q.q;
      container.appendChild(title);

      const list = document.createElement('div');
      list.className = 'choices';
      q.options.forEach((opt, i)=>{
        const row = document.createElement('label');
        row.className = 'choice';
        const input = document.createElement('input');
        input.type = 'radio'; input.name = 'choice'; input.value = i;
        input.checked = state.answers[state.currentIndex]===i;
        input.addEventListener('change', ()=>{
          state.answers[state.currentIndex]=i;
          updateNavActive();
        });
        const span = document.createElement('div');
        span.textContent = opt;
        row.appendChild(input); row.appendChild(span); list.appendChild(row);
      });
      container.appendChild(list);
    }

    function goTo(idx){
      state.currentIndex = Math.max(0, Math.min(QUESTIONS.length-1, idx));
      updateNavActive();
      renderQuestion();
    }

    function next(){ if(state.currentIndex < QUESTIONS.length-1){ goTo(state.currentIndex+1); } }
    function prev(){ if(state.currentIndex > 0){ goTo(state.currentIndex-1); } }

    function resetAnswers(){
      if(!confirm('Yakin reset semua jawaban?')) return;
      state.answers = Array(QUESTIONS.length).fill(null);
      updateNavActive();
      renderQuestion();
    }

    function submitQuiz(){
      // hitung skor per kategori
      let sSin=0, sAnt=0, sHip=0;
      QUESTIONS.forEach((q,idx)=>{
        const pick = state.answers[idx];
        const correct = q.answer;
        if(pick===correct){
          if(q.type==='sinonim') sSin++;
          else if(q.type==='antonim') sAnt++;
          else if(q.type==='hiponim') sHip++;
        }
      });
      const total = sSin + sAnt + sHip;

      // tampilkan
      el('#scoreSinonim').textContent = `${sSin} / 90`;
      el('#scoreAntonim').textContent = `${sAnt} / 90`;
      //el('#scoreHiponim').textContent = `${sHip} / 40`;
      el('#scoreTotal').textContent = `${total} / 180`;
      el('#resultUser').textContent = `Peserta: ${state.user?.nama || '-'} (waktu habis/kumpul)`;

      // stop timer, ganti section
      if(tick) clearInterval(tick);
      showSection('result');
      window.scrollTo({top:0, behavior:'smooth'});
    }

    function showSection(which){
      el('#section-form').classList.remove('active');
      el('#section-quiz').classList.remove('active');
      el('#section-result').classList.remove('active');
      if(which==='form') el('#section-form').classList.add('active');
      if(which==='quiz') el('#section-quiz').classList.add('active');
      if(which==='result') el('#section-result').classList.add('active');
    }

    // EVENTS
    el('#btnMulai').addEventListener('click', ()=>{
      const nama = el('#nama').value.trim();
      const pass = el('#pass').value.trim();
      if(!nama || !pass){ alert('Nama dan password wajib diisi.'); return; }
      if(pass!=="KEDINASANEP"){
        alert("password salah! tanya password ke sir hardi. klo sir hardi dak tau tanya ke sir meca");
        return;
      }
      state.user = {nama, pass};
      el('#infoUser').textContent = `Peserta: ${nama}`;
      showSection('quiz');
      startTimer();
      mountNav();
      goTo(0);
      renderTimer();
    });

    el('#prevBtn').addEventListener('click', prev);
    el('#nextBtn').addEventListener('click', next);
    el('#btnReset').addEventListener('click', resetAnswers);
    el('#btnSubmit').addEventListener('click', ()=>{
      if(confirm('Kumpulkan jawaban sekarang?')) submitQuiz();
    });

    // Keyboard nav: panah kiri/kanan, angka 1-4 untuk memilih A-D
    window.addEventListener('keydown', (e)=>{
      if(!el('#section-quiz').classList.contains('active')) return;
      if(e.key==='ArrowRight') next();
      if(e.key==='ArrowLeft') prev();
      if(['1','2','3','4'].includes(e.key)){
        const idx = parseInt(e.key)-1;
        state.answers[state.currentIndex]=idx;
        updateNavActive();
        renderQuestion();
      }
    });

    // Ulang dari hasil
    el('#btnUlang').addEventListener('click', ()=>{
      state = { user: state.user, timeLeft: 245*60, currentIndex: 0, answers: Array(180).fill(null)};
      QUESTIONS = shuffle(QUESTIONS); // acak ulang urutan
      showSection('quiz');
      startTimer();
      mountNav();
      goTo(0);
      renderTimer();
    });

  </script>
</body>
</html>
